<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>car-car</title>
	</head>
	<body>
		<canvas id="canvas" width="320" height="240"></canvas>
		<script type="text/javascript">
			var ctx = document.getElementById('canvas').getContext('2d');

			var img = new Image();
			img.onload = function() {
				setInterval(lineLoop, 1000 / 24);
			};
			img.src = 'nolines.png';

			var z = 0, a = 4, v = 0, maxV = 3, width = 320, height = 240;

			function lineLoop() {
				ctx.clearRect(0, 0, width, height);
				ctx.drawImage(img, 0, 0);

				for(var i = 0; i < 5; i++) {
					if(v < maxV) {
						v += a;
					}
					if(z < height) {
						z += v;
					} else {
						z = 0;
					}
					drawLine(z);
				}
			}

			function drawLine(z) {
				z = width - z;
				ctx.save();
				//ctx.lineWidth = 5;
				ctx.strokeStyle = "rgba(255,165,0,0.5)";
				ctx.beginPath();
				ctx.moveTo(0, z);
				ctx.lineTo(320, z);
				ctx.stroke();
				ctx.restore();
			}
		</script>
	</body>
</html>
